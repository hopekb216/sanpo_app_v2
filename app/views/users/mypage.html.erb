<div class="mypage-container">

  <!-- マイページタイトル -->
  <h2 class="mypage-title">
    <%= t("users.mypage.title", username: @user.username) %>
  </h2>

  <!-- アクションボタン（プロフィール編集・新規投稿） -->
  <div class="mypage-actions d-flex gap-3 mb-4">
    <%= link_to t("users.mypage.edit_profile"), edit_user_registration_path, class: "btn btn-secondary" %>
    <%= link_to t("users.mypage.new_course"), new_course_path, class: "btn btn-primary" %>
  </div>

  <!-- 投稿一覧タイトル -->
  <h3 class="mypage-subtitle"><%= t("users.mypage.your_posts") %></h3>
  <hr>

  <!-- 投稿カード一覧 -->
  <div class="course-list">
    <% @courses.each do |course| %>
      <div class="course-card">

        <% if course.image.attached? %>
          <%= image_tag course.image, class: "course-thumb" %>
        <% else %>
          <%= image_tag "default_course.png", class: "course-thumb" %>
        <% end %>

        <h2 class="course-title">
          <%= link_to course.title, course_path(course) %>
        </h2>

        <p class="course-date">
          <%= t("users.mypage.posted_at") %>：
          <%= l(course.created_at, format: :default) %>
        </p>

        <div class="course-actions mt-2">
          <%= link_to t("users.mypage.edit"), edit_course_path(course), class: "btn btn-secondary btn-sm" %>
          <%= link_to t("users.mypage.delete"), course_path(course),
                data: { turbo_method: :delete, turbo_confirm: t("users.mypage.confirm_delete") },
                class: "btn btn-danger btn-sm" %>
        </div>

      </div>
    <% end %>
  </div>

  <!-- ページネーション -->
  <%= paginate @courses %>

</div>
