<div class="mypage-container">

  <!-- マイページタイトル -->
  <h2 class="mypage-title"><%= @user.username %> さんのマイページ</h2>

  <!-- アクションボタン（プロフィール編集・新規投稿） -->
  <div class="mypage-actions d-flex gap-3 mb-4">
    <%= link_to "プロフィール編集", edit_user_registration_path, class: "btn btn-secondary" %>
    <%= link_to "新規投稿", new_course_path, class: "btn btn-primary" %>
  </div>

  <!-- 投稿一覧タイトル -->
  <h3 class="mypage-subtitle">あなたの投稿一覧</h3>
  <hr>

  <!-- 投稿カード一覧 -->
  <div class="course-list">
    <% @courses.each do |course| %>
      <div class="course-card">

        <% if course.image.attached? %>
          <%= image_tag course.image, class: "course-thumb" %>
        <% else %>
          <%= image_tag "default_course.png", class: "course-thumb" %>
        <% end %>

        <h2 class="course-title">
          <%= link_to course.title, course_path(course) %>
        </h2>

        <p class="course-date">
          投稿日時：<%= course.created_at.strftime("%Y-%m-%d %H:%M") %>
        </p>

        <div class="course-actions mt-2">
          <%= link_to "編集", edit_course_path(course), class: "btn btn-secondary btn-sm" %>
          <%= link_to "削除", course_path(course),
                data: { turbo_method: :delete, turbo_confirm: "削除しますか？" },
                class: "btn btn-danger btn-sm" %>
        </div>

      </div>
    <% end %>
  </div>

  <!-- ページネーション -->
  <%= paginate @courses %>

</div>

